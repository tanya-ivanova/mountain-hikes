<section class="edit-post">
    <app-spinner *ngIf="isLoading" />

    <app-error *ngIf="apiError" />

    <form *ngIf="!isLoading" [formGroup]="form" (ngSubmit)="onSubmit()">
        <h2>Edit post</h2>
        <div class="inputs">
            <div class="left-inputs">
                <div>
                    <label for="peak-name">Peak name</label>
                    <input 
                        type="text" 
                        id="name" 
                        name="name"                        
                        formControlName="name"
                    >
                    <span class="error" *ngIf="!form.get('name')?.valid && form.get('name')?.touched">Peak name is required and must be at least 3 characters long</span>
                </div>
                <div>
                    <label for="mountain">Mountain</label>
                    <input 
                        type="text" 
                        id="mountain" 
                        name="mountain"
                        formControlName="mountain"
                    >
                    <span class="error" *ngIf="!form.get('mountain')?.valid && form.get('mountain')?.touched">Mountain is required and must be at least 3 characters long</span>
                </div>
                <div>
                    <label for="country">Country</label>
                    <input 
                        type="text" 
                        id="country" 
                        name="country"
                        formControlName="country"
                    >
                    <span class="error" *ngIf="!form.get('country')?.valid && form.get('country')?.touched">Country is required and must be at least 3 characters long</span>
                </div>
                <div>
                    <label for="duration">Duration</label>
                    <input 
                        type="text" 
                        id="duration" 
                        name="duration"
                        formControlName="duration"
                    >
                    <span class="error" *ngIf="!form.get('duration')?.valid && form.get('duration')?.touched">Duration is required and must be at least 2 characters long</span>
                </div>
                <div>
                    <label for="latitude">Latitude</label>
                    <input 
                        type="number" 
                        id="latitude" 
                        name="latitude" 
                        step=".01"
                        formControlName="latitude"
                    >
                    <span class="error" *ngIf="!form.get('latitude')?.valid && form.get('latitude')?.touched">Latitude is required</span>
                </div>
                <div>
                    <label for="longitude">Longitude</label>
                    <input 
                        type="number" 
                        id="longitude" 
                        name="longitude" 
                        step=".01"
                        formControlName="longitude"
                    >
                    <span class="error" *ngIf="!form.get('longitude')?.valid && form.get('longitude')?.touched">Longitude is required</span>
                </div>                              
            </div>
            <div class="right-inputs">
                <div>
                    <label for="description">Description</label>
                    <textarea 
                        name="description" 
                        id="description" 
                        cols="30" 
                        rows="15"
                        formControlName="description"
                    ></textarea>
                    <span class="error" *ngIf="!form.get('description')?.valid && form.get('description')?.touched">Description is required and must be at least 10 characters long</span>
                </div>                                
            </div>
        </div>

        <button 
            type="submit" 
            [disabled]="!form.valid"
        >
            Edit post
        </button>
    </form>
</section>

